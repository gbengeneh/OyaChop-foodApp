<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
        href="https://fonts.googleapis.com/css2?family=Bona+Nova:wght@400;700&family=Dancing+Script&family=Pacifico&family=Poppins:wght@400;700&maxHeight=swap"
        rel="stylesheet">
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>OyaChop | Order</title>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/solid.css">
    <link rel="stylesheet" href="/public/css/dashboard.css">
    <link rel="stylesheet" href="/public/css/order.css">
</head>

<body>
    <section class="body-content">
        <div class="navigation">
            <div class="menu-icon">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <aside class="sidebar-container">
                <div class="side-content">
                    <div class="logo-container">
                        <h1 class="logo">Oya Chop</h1>
                    </div>

                    <nav class="navbar">
                        <ul class="nav-menu">
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/home.svg" class="nav-item-img" alt="">
                                    <a href="dashboard.html">Dashboard</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/profile.svg" class="nav-item-img" alt="">
                                    <a href="profile.html">Your Profile</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/order.svg" class="nav-item-img" alt="">
                                    <a href="order.html">Orders</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/cart.svg" class="nav-item-img" alt="">
                                    <a href="cart.html">Your Cart</a>
                                </div>
                            </li>
                        </ul>
                    </nav>
                    <div class="bottomDiv">
                        <ul class="nav-menu">
                            <li class="nav-item">
                                <a href="support.html">
                                    <i class="fa-solid fa-circle-question"></i>
                                    <span>Help & Support</span>
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="landing.html">
                                    <i class="fa-solid fa-arrow-right-from-bracket"></i>
                                    <span>Log Out</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </aside>

        </div>


        <!-- Order page -->

        <main class="main-container">
            <div class="order-page">
                <div class="orderPageHeading">
                    <img class="order-logo" src="/public/img/transaction-order (1).svg" alt="order">
                    <h1 class="orderHeading">Orders</h1>
                </div>
                <div class="orderStatusDiv">
                    <button class="orderStatus active" data-name="all">All</button>
                    <button class="orderStatus" data-name="On Delivery">On Delivery</button>
                    <button class="orderStatus" data-name="Delivered">Delivered</button>
                </div>
                <div class="orderItemsWrap">

                    <!-- render order items here -->

                </div>
            </div>


        </main>
    </section>

    <!-- javascript for app functionalities -->
    <script src="/public/js/app.js"></script>
    <!-- Hamburger menu -->
    <script src="/public/js/dashboard.js"></script>

    <script>
        // Handle category selection
        function handleCategorySelection(event) {
            if (event.target.classList.contains("orderStatus")) {
                // Get the selected category from the clicked button
                const selectedCategory = event.target.dataset.name;

                // Highlight the selected category button
                handleOrderStatus(event)

                // Filter and show/hide products based on the selected category
                filterOrdersByCategory(selectedCategory);
            }
        }


        const orderStatus = document.querySelectorAll(".orderStatus");

        function handleOrderStatus(event) {

            const selectedOrderBtn = event.target;
            if (selectedOrderBtn.classList.contains("orderStatus")) {
                const activeOrderToggle = document.querySelector(".orderStatus.active");
                if (activeOrderToggle) {
                    activeOrderToggle.classList.remove("active");
                }
                selectedOrderBtn.classList.add("active");
            }
        }

        // Add event listener to orderStatus elements
        orderStatus.forEach((button) => {
            button.addEventListener("click", handleCategorySelection);
        });

        // Filter and show/hide orders based on the selected category
        function filterOrdersByCategory(selectedCategory) {
            const orderItems = document.querySelectorAll(".orderedItem");

            orderItems.forEach((item) => {
                const itemCategory = item.getAttribute("data-name");
                if (selectedCategory === "all" || selectedCategory === itemCategory) {
                    item.classList.add("show");
                    item.classList.remove("hide");
                } else {
                    item.classList.add("hide");
                    item.classList.remove("show");
                }
            });
        }


        getOrder()
        getCartQuantity()
    </script>

</body>

</html>