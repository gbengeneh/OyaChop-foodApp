<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Bona+Nova:wght@400;700&family=Dancing+Script&family=Pacifico&family=Poppins:wght@400;700&maxHeight=swap" rel="stylesheet">
    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>OyaChop | Profile</title>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.8/css/solid.css">
    <link rel="stylesheet" href="/public/css/dashboard.css">
    <link rel="stylesheet" href="/public/css/profile.css">
</head>

<body>
    <section class="body-content">
        <div class="navigation">
            <div class="menu-icon">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <aside class="sidebar-container">
                <div class="side-content">
                    <div class="logo-container">
                        <h1 class="logo" onclick="getUser()">Oya Chop</h1>
                    </div>
              
                    <nav class="navbar">
                        <ul class="nav-menu">
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/home.svg" class="nav-item-img" alt="">
                                    <a href="dashboard.html">Dashboard</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/profile.svg" class="nav-item-img" alt="">
                                    <a href="profile.html">Your Profile</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/order.svg" class="nav-item-img" alt="">
                                    <a href="order.html">Orders</a>
                                </div>
                            </li>
                            <li class="nav-item">
                                <div class="nav-item-div">
                                    <img src="../img/dashboard/cart.svg" class="nav-item-img" alt="">
                                    <a href="cart.html">Your Cart</a>
                                </div>
                            </li>
                        </ul>
                    </nav>
                    <div class="bottomDiv">
                      <ul class="nav-menu">
                          <li class="nav-item">
                              <a href="support.html">
                                  <i class="fa-solid fa-circle-question"></i>
                                  <span>Help & Support</span>
                              </a>
                          </li>
      
                          <li class="nav-item">
                              <a href="landing.html">
                                  <i class="fa-solid fa-arrow-right-from-bracket"></i>
                                  <span>Log Out</span>
                              </a>
                          </li>
                      </ul>
                    </div>
                </div>
            </aside>
      
        </div>

        <!-- Profile page -->

        <main class="main-container">
            <div class="profile-page">
                <div class="group-right">
                  <div class="profile-picture-wrapper" id="profile-image-mobile">
                    <img src="" class="profile-image" alt="profile pic">
                  </div>
                </div>
                <div class="account-container">
                  <div class="group-left">
                    <h2>Account Settings</h2>
                    <form class="account-form">
                      <div class="left">
                        <label for="first-name">First Name</label>
                        <input type="text" name="first-name" class="disabled" id="user_firstname" value="" disabled>
                        <label for="email">Email</label>
                        <input type="email" name="email" id="user_email" class="disabled" value="" disabled>
                      </div>
                      <div class="right">
                        <label for="last-name">Last Name</label>
                        <input type="text" name="last-name" id="user_lastname" class="disabled" value="" disabled>
                        <label for="phone">Phone number</label>
                        <input type="text" name="phone" id="user_phone" class="disabled" value="" disabled>
                      </div>
                    </form>
                  </div>
                  <div class="group-right">
                    <div class="profile-picture-wrapper">
                        <img src="" class="profile-image" alt="profile pic">
                    </div>
                  </div>
                </div>
         
                <div class="password-container">
                    <h2>Password Settings</h2>
        
                    <form class="pass-form">
                        <div class="top">
                            <div class="passwordUpdateDiv">
                                <label for="old-pass">Old Password</label>
                                <div class="passwordInputWrap">
                                    <input type="password" class="passwordInput oldPassword" data-index="0" value="" name="old-pass">
                                    <img class="passwordIcon" src="../img/eye-close.svg" data-index="0" onclick="togglePassword(this)">
                                </div>
                            </div>
                        </div>
                        <div class="bottom">
                            <div class="passwordUpdateDiv">
                                <label for="new-pass">New Password</label>
                                <div class="passwordInputWrap">
                                    <input type="password" class="passwordInput newPassword1" value="" data-index="1" name="new-pass">
                                    <img class="passwordIcon" src="../img/eye-close.svg" data-index="1" onclick="togglePassword(this)">
                                </div>
                            </div>
                            
                            <div class="passwordUpdateDiv">
                                <label for="con-pass">Confirm new password</label>
                                <div class="passwordInputWrap">
                                    <input type="password" class="passwordInput newPassword2" value="" data-index="2" name="con-pass">
                                    <img class="passwordIcon" src="../img/eye-close.svg" data-index="2" onclick="togglePassword(this)">
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
        
                <button id="update-btn" onclick="updatePassword()">Update</button>

                <div id="passwordMessage" class="passwordMessage"></div>
            </div>
            
            
        </main>
    </section>

    <!-- Hamburger menu -->
    <script src="/public/js/dashboard.js"></script>
    <!-- javascript for app functionalities -->
    <script src="/public/js/app.js"></script>
    <!-- Call getUser function when the profile page is loaded -->
    <script>
        getUser()
        getCartQuantity()
    </script>
    <script>
        // Handle hide or display password
        function togglePassword(icon) {
            const index = icon.getAttribute("data-index");
            const passwordInput = document.querySelector(`.passwordInput[data-index="${index}"]`);

            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                icon.src = "/public/img/eye-open.svg";
            } else {
                passwordInput.type = "password";
                icon.src = "/public/img/eye-close.svg";
            }
        }
        
    </script>
</body>

</html>